; Forward Zone for {{ domain }}
; Generated by Ansible

$TTL    604800
@       IN      SOA     int-srv.{{ domain }}. admin.{{ domain }}. (
                              {{ ansible_date_time.date | replace('-', '') }}01    ; Serial
                              604800        ; Refresh
                              86400         ; Retry
                              2419200       ; Expire
                              604800 )      ; Negative Cache TTL

; Name Servers
@       IN      NS      int-srv.{{ domain }}.

; A Records - Infrastructure
fw              IN      A       192.168.27.200
int-srv         IN      A       192.168.1.10
mail-srv        IN      A       172.16.1.10
db              IN      A       172.16.1.17
netmon          IN      A       172.16.1.15
web-01          IN      A       172.16.1.21
web-02          IN      A       172.16.1.22

; A Records - Services
www             IN      A       192.168.27.200  ; NAT to VIP
vip             IN      A       172.16.1.100    ; Keepalived VIP
mail            IN      A       172.16.1.10
vpn             IN      A       192.168.27.200
phpmyadmin      IN      A       172.16.1.17

; MX Records
@               IN      MX      10 mail-srv.{{ domain }}.

; CNAME Records
webmail         IN      CNAME   mail-srv
cacti           IN      CNAME   netmon
ns1             IN      CNAME   int-srv

; Mass Virtual Hosts (www1-www20)
$GENERATE 1-20 www$ IN A 172.16.1.21
