# Dovecot LDAP Configuration
# Generated by Ansible
# Compatible with Dovecot 2.4.1+
# Included via !include in /etc/dovecot/conf.d/auth-ldap.conf.ext
#
# LDAP Server: int-srv (192.168.1.10)

# Dovecot 2.4: use ldap_uris (renamed from old 'hosts')
ldap_uris = ldap://192.168.1.10

# Dovecot 2.4: 'dn' renamed to 'ldap_auth_dn'
#              'dnpass' renamed to 'ldap_auth_dn_password'
ldap_auth_dn = cn=admin,dc=lksn2025,dc=id
ldap_auth_dn_password = Skills39!

ldap_version = 3

# Search base and scope
base = ou=People,dc=lksn2025,dc=id
scope = subtree

# Authentication via direct LDAP bind as the user (no password attr needed)
auth_bind = yes
auth_bind_userdn = uid=%{user},ou=People,dc=lksn2025,dc=id

# User attribute mapping (for userdb lookups)
user_filter = (&(objectClass=posixAccount)(uid=%{user}))
user_attrs = homeDirectory=home,uidNumber=uid,gidNumber=gid
